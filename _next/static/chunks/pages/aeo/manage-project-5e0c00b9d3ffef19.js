(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6709],{42059:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(37876);r(14232);var i=r(89099);let a=()=>{let e=(0,i.useRouter)(),t=e.asPath,r=t.split("/").filter(e=>!(""===e||e.startsWith("?")||e.startsWith("#"))),a=r.map((i,a)=>{let n=a===r.length-1;return(0,s.jsxs)("div",{className:"inline",children:[(0,s.jsx)("span",{className:"text-[#737373] font-medium capitalize cursor-pointer hover:underline",onClick:()=>{if(n)return;let s="/".concat(r.slice(0,a+1).join("/"));s!==t&&s!=="/".concat(r[0])&&e.push(s)},children:i.replace(/-/g," ")}),!n&&(0,s.jsx)("span",{className:"text-[#737373] font-medium",children:" > "})]},a)});return(0,s.jsx)("div",{children:a})},n=e=>{let{children:t}=e;return(0,s.jsxs)("div",{className:"w-full bg-white border-b-[1px] border-gray-200 p-4 flex justify-between items-center gap-4 flex-wrap",children:[(0,s.jsx)(a,{}),t&&(0,s.jsx)("div",{className:"flex gap-4 items-center justify-between",children:t})]})}},86231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(37876),i=r(42059),a=r(74562),n=r(70430),l=r(88320),o=r(65259),c=r(43598),d=r(14232);let u=()=>{let[e,t]=(0,d.useState)(null),[r,u]=(0,d.useState)([]),h=async()=>{var e;let{data:t,error:r}=await o.A.doGet({path:"/orgs/".concat(null===(e=c.A.current())||void 0===e?void 0:e.id,"/querysets")});if(r){console.error("Error fetching projects:",r);return}u(t.querysets.map(e=>({id:e.id,org_id:e.org_id,name:e.name,data:e.data||{}})))},x=e=>{let t=r.find(t=>t.id===e.id);return t?t.data.args:{}},m=async()=>{try{let e=await c.A.checkAndGetAeoProject();t(e)}catch(e){console.error("Error fetching current project:",e)}};return(0,d.useEffect)(()=>{m(),h()},[]),(0,d.useEffect)(()=>{e&&c.A.setCurrentAeoProject(e)},[e]),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.A,{children:(0,s.jsx)("button",{className:"bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 transition-colors duration-200 cursor-pointer",onClick:()=>a.A.show("Create new project",(0,s.jsx)(l.A,{})),children:"Create New Project"})}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-start bg-white p-4 w-full h-[calc(100vh-10rem)] mx-auto",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4 text-gray-700",children:"Manage AEO Projects"}),(0,s.jsxs)("div",{className:"text-lg mb-2",children:["Current Project:"," ",(0,s.jsx)("span",{className:"font-semibold",children:(null==e?void 0:e.name)||"None"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"Select a project from the list below to manage it."}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("select",{value:(null==e?void 0:e.id)||"",onChange:e=>{t(r.find(t=>t.id===e.target.value)||null)},className:"border border-gray-300 rounded-md p-2 w-fit",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select a project"}),r.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),e&&(0,s.jsx)("button",{className:"w-fit bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 transition-colors duration-200 cursor-pointer",onClick:()=>a.A.show("Edit Business Profile",(0,s.jsx)(n.A,{id:e.id,args:x(e)||{},setRefetchQuery:()=>h()})),children:"Edit Project"})]})]})]})}},96721:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aeo/manage-project",function(){return r(86231)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[9034,7525,636,6593,8792],()=>t(96721)),_N_E=e.O()}]);