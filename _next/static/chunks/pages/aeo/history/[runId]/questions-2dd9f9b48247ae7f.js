(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4033],{7492:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var a=s(37876);s(14232);var l=s(69241),r=s(95313);let n={default:"bg-gray-500 hover:bg-gray-600 text-white",white:"bg-white hover:bg-gray-100 text-indigo-700 border border-indigo-700",primary:"bgHardBlue hover:bgHardBlue text-white",danger:"bg-red-600 hover:bg-red-700 text-white"},i=e=>{let{variant:t="default",loading:s=!1,children:i,className:o,loaderIcon:d,...c}=e;return(0,a.jsx)("button",{className:(0,l.A)(" text-xs font-semibold px-4 py-2 rounded-lg transition cursor-pointer flex items-center justify-center gap-2",n[t],o),disabled:s||c.disabled,...c,children:s?d||(0,a.jsx)(r.A,{className:"h-4 w-4 animate-spin"}):i})}},20477:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(37876),l=s(68951),r=s.n(l),n=s(46104);s(14232);let i=e=>{let{isOpen:t,onClose:s,title:l,children:i}=e;return t?(0,a.jsxs)("div",{className:"jsx-593ab1484ff139da fixed inset-0 z-50 flex",children:[(0,a.jsx)("div",{onClick:s,className:"jsx-593ab1484ff139da fixed inset-0 bg-black/20 transition-opacity"}),(0,a.jsxs)("div",{className:"jsx-593ab1484ff139da ml-auto w-1/2 h-full bg-white shadow-xl p-6 relative animate-slide-in-right overflow-y-auto",children:[(0,a.jsx)("button",{onClick:s,"aria-label":"Close",className:"jsx-593ab1484ff139da absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-700",children:(0,a.jsx)(n.A,{className:"cursor-pointer",size:20})}),i]}),(0,a.jsx)(r(),{id:"593ab1484ff139da",children:"@-webkit-keyframes slide-in-right{from{-webkit-transform:translatex(100%);transform:translatex(100%)}to{-webkit-transform:translatex(0);transform:translatex(0)}}@-moz-keyframes slide-in-right{from{-moz-transform:translatex(100%);transform:translatex(100%)}to{-moz-transform:translatex(0);transform:translatex(0)}}@-o-keyframes slide-in-right{from{-o-transform:translatex(100%);transform:translatex(100%)}to{-o-transform:translatex(0);transform:translatex(0)}}@keyframes slide-in-right{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}}.animate-slide-in-right{-webkit-animation:slide-in-right.3s cubic-bezier(.4,0,.2,1);-moz-animation:slide-in-right.3s cubic-bezier(.4,0,.2,1);-o-animation:slide-in-right.3s cubic-bezier(.4,0,.2,1);animation:slide-in-right.3s cubic-bezier(.4,0,.2,1)}"})]}):null}},64875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(37876),l=s(14232),r=s(26478),n=s(89099),i=s(98673),o=s(7492),d=s(20477);let c=e=>{let{question:t,answer:s,runName:l="Run",runTime:r="",sovScore:n="--",citationsCount:i=0}=e;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"text-black text-base font-bold mb-9",children:"Reply Summary"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 bg-violet-50/70 -mx-6 px-6 py-4 mb-6",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2 text-slate-600 text-xs font-semibold",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full bg-green-400 inline-block"}),"Completed Run"]}),(0,a.jsx)("span",{className:"text-slate-500 text-xs font-medium",children:l}),(0,a.jsx)("span",{className:"text-slate-500 text-xs font-semibold",children:r}),(0,a.jsxs)("span",{className:"text-slate-500 text-xs font-semibold ml-auto",children:["SOV Score: ",n]}),(0,a.jsxs)("span",{className:"text-slate-500 text-xs font-semibold",children:["Citations: ",i]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("span",{className:"bg-indigo-100 px-4 py-2 rounded-lg text-indigo-500 text-xs font-medium",children:t})}),(0,a.jsx)("div",{className:"rounded-lg max-w-xl px-3 py-2 bg-zinc-100/75 text-neutral-950 text-xs font-normal leading-relaxed mb-8",children:s})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-black text-base font-bold mb-2",children:"Sources"}),(0,a.jsxs)("ul",{className:"list-disc ml-6  text-indigo-600 text-xs font-light",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://stitchwithgoogle.com/?p=1",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"https://stitchwithgoogle.com/?p=1"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://www.canva.com/templates/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"https://www.canva.com/templates/"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://app.geostatair/visibility/overview",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"https://app.geostatair/visibility/overview"})})]})]})]})};var x=s(65259),m=s(43598);let u=()=>{let{runId:e}=(0,n.useRouter)().query,[t,s]=(0,l.useState)([]),[u,h]=(0,l.useState)([]),[f,b]=(0,l.useState)(!1),[g,p]=(0,l.useState)(null),[v,j]=(0,l.useState)(!1),[N,w]=(0,l.useState)(null),[y,k]=(0,l.useState)(""),[C,_]=(0,l.useState)(""),[A,S]=(0,l.useState)("--");(0,l.useEffect)(()=>{e&&(async()=>{var t,a,l,r,n,i,o,d,c,u,f,b;j(!0),w(null);let{data:g,error:p}=await x.A.doGet({path:"/orgs/".concat(null===(t=m.A.current())||void 0===t?void 0:t.id,"/aeoanalysis/tasks/").concat(e,"?fetch_result=true")});if(p){w("Failed to fetch questions"),j(!1);return}s((null==g?void 0:null===(r=g.task)||void 0===r?void 0:null===(l=r.result)||void 0===l?void 0:null===(a=l.all)||void 0===a?void 0:a.queries)||[]),k((null==g?void 0:null===(i=g.task)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.queryset_name)||(null==g?void 0:null===(d=g.task)||void 0===d?void 0:null===(o=d.data)||void 0===o?void 0:o.queryset_id)||"Run"),_((null==g?void 0:null===(c=g.task)||void 0===c?void 0:c.created_at)?new Date(Number(g.task.created_at)).toLocaleString():""),S("number"==typeof(null==g?void 0:null===(b=g.task)||void 0===b?void 0:null===(f=b.result)||void 0===f?void 0:null===(u=f.own)||void 0===u?void 0:u.sov)?"".concat(g.task.result.own.sov.toFixed(2),"%"):"--"),h([]),j(!1)})()},[e]);let F=u.length===t.length,E=u.length>0&&!F,z=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,a.jsxs)("div",{className:"bg-white min-h-screen px-8 py-6 fontDmSans",children:[(0,a.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-3",children:(0,a.jsxs)("div",{className:"text-slate-700 text-sm font-bold mb-4",children:["Question Hub ",(0,a.jsx)("span",{className:"text-[#A0A0A0] font-normal",children:">"})," ",(0,a.jsxs)("span",{className:"",children:["Run History ",(0,a.jsx)("span",{className:"text-[#A0A0A0] font-normal",children:">"})," Questions Management"]})]})}),(0,a.jsxs)("div",{className:"bg-violet-50/70 border-t border-neutral-200 -ml-8 px-6 py-4 flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[#6C47FF] text-base font-medium",children:[(0,a.jsx)(r.xgK,{width:24,height:24,className:" text-2xl text-[#6C47FF]"}),(0,a.jsx)("p",{className:"text-slate-600 text-xs font-semibold pr-2 border-r border-slate-300",children:"Next Run"}),(0,a.jsx)("span",{className:"text-slate-500 text-xs font-medium ml-2",children:y}),(0,a.jsx)(i.A,{width:16,height:16,className:"text-sm text-slate-500"}),(0,a.jsxs)("span",{className:"text-slate-500 text-xs font-medium ml-2 border-r border-slate-300 pr-2",children:["Scheduled For ",C]}),(0,a.jsxs)("span",{className:"text-slate-500 text-xs font-semibold ml-1",children:[t.length," Questions"]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-2 md:mt-0",children:[(0,a.jsx)("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-xs bg-white",children:(0,a.jsx)("option",{children:"All Location"})}),(0,a.jsx)(o.$,{variant:"primary",className:"transition-all",children:"View Questions"}),(0,a.jsx)(o.$,{variant:"white",className:"text-indigo-700",children:"Run Now"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-0 py-3 border-b border-[#E5E7EB] text-neutral-500 text-xs font-medium bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:F,ref:e=>{e&&(e.indeterminate=E)},onChange:()=>{F?h([]):h(t.map((e,t)=>t))},className:"w-3.5 h-3.5 border-2 border-slate-400 bg-white checked:bg-indigo-600 checked:border-indigo-600 focus:ring-0",style:{accentColor:"#6C47FF"}}),(0,a.jsx)("span",{children:"Questions"})]}),(0,a.jsx)("div",{className:"",children:"Location"}),(0,a.jsx)("div",{className:"",children:"Topic"}),(0,a.jsx)("div",{className:"",children:"Actions"}),(0,a.jsx)("div",{className:""})]}),v&&(0,a.jsx)("div",{className:"py-8 text-center text-gray-400",children:"Loading..."}),N&&(0,a.jsx)("div",{className:"py-8 text-center text-red-500",children:N}),!v&&!N&&t.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-2 py-3 border-b border-[#E5E7EB] items-center text-base bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(t),onChange:()=>z(t),className:"w-3.5 h-3.5 border-2 ".concat(u.includes(t)?"border-[#6C47FF] bg-[#6C47FF]":"border-[#B6BED2] bg-white"," focus:ring-0"),style:{accentColor:u.includes(t)?"#6C47FF":"#B6BED2"}}),(0,a.jsx)("span",{className:"text-indigo-600 text-xs font-normal ".concat(u.includes(t)?"text-[#6C47FF]":"text-gray-700"),children:e.query})]}),(0,a.jsx)("div",{className:"text-neutral-950 text-xs font-normal",children:e.location||"United States"}),(0,a.jsx)("div",{className:"text-neutral-950 text-xs font-normal",children:e.topic||"Lorem Ipsum"}),(0,a.jsx)("div",{className:"text-indigo-500 text-xs font-normal hover:underline cursor-pointer",onClick:()=>{p(t),b(!0)},children:"Edit"}),(0,a.jsx)("div",{})]},t)),(0,a.jsx)("div",{className:"flex justify-end items-center mt-8 px-8",children:(0,a.jsx)(o.$,{variant:"primary",className:"",children:"Delete"})}),(0,a.jsx)(d.A,{isOpen:f,onClose:()=>b(!1),children:null!==g&&t[g]&&(0,a.jsx)(c,{question:t[g].query,answer:t[g].answer||"",runName:y,runTime:C,sovScore:A,citationsCount:Array.isArray(t[g].annotations)?t[g].annotations.length:0})})]})}},86916:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aeo/history/[runId]/questions",function(){return s(64875)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[2517,6355,636,6593,8792],()=>t(86916)),_N_E=e.O()}]);