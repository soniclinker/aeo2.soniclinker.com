(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7611],{31906:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(37876),i=s(59884),a=s(45982),l=s(14232),c=s(65259),n=s(43598),d=s(91589);let o=()=>{let[e,t]=(0,l.useState)({}),[s,o]=(0,l.useState)(""),[u,x]=(0,l.useState)("error"),[p,h]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),m=n.A.current().id,j=(0,l.useCallback)(async()=>{let{data:e,error:s}=await c.A.doGet({path:"orgs/".concat(m,"/api-keys")});if(s){o(s.message),x("error");return}e&&t(e.api_keys[0])},[m]),v=async()=>{let{data:e,error:t}=await c.A.doPost({path:"orgs/".concat(m,"/api-keys")});if(t){o(t.message),x("error");return}await j()},b=async()=>{let{data:s,error:r}=await c.A.doDelete({path:"orgs/".concat(m,"/api-keys/").concat(encodeURIComponent(e.id))});if(r){o(r.message),x("error");return}y(!1),t({}),o(""),await j()};(0,l.useEffect)(()=>{j()},[j]),(0,l.useEffect)(()=>{h(!1)},[f]);let w=async(e,t)=>{try{await navigator.clipboard.writeText(e),x("success"),o("".concat(t," copied to clipboard")),h(!0)}catch(e){console.error("Failed to copy text: ",e),x("error"),o("Failed to copy to clipboard"),h(!0)}};return(0,r.jsxs)("div",{children:[!f&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"m-auto absolute",children:p&&(0,r.jsx)(d.A,{type:u,message:s,onClose:()=>h(!1),autoCloseDelay:2e3})}),s&&"error"===u&&(0,r.jsx)("div",{className:"w-full flex justify-center mt-10 text-red-400",children:(0,r.jsx)("div",{children:s})}),(null==e?void 0:e.id)&&(0,r.jsxs)("div",{className:"py-8 px-2 flex items-end justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col w-3/4",children:[(0,r.jsx)("div",{children:"API Key:"}),(0,r.jsx)("div",{className:"overflow-hidden break-all",children:e.id})]}),(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>{w(e.id,"Api Key")},children:(0,r.jsx)(i.zU_,{className:"text-blue-400 mb-2"})}),(0,r.jsx)("div",{onClick:()=>y(!0),children:(0,r.jsx)(a.A,{size:20,className:"cursor-pointer text-red-400 mb-2"})})]}),!(null==e?void 0:e.id)&&!s&&(0,r.jsx)("div",{className:"w-full flex justify-center items-center pt-10",children:(0,r.jsx)("button",{className:"flex items-center gap-[2px] w-fit px-4 py-2 bg-[#4F46E4] rounded text-white cursor-pointer",onClick:v,children:"Add API Key"})})]}),f&&(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsx)("div",{children:"Are you sure you want to delete the API key?"}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-2",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"flex items-center gap-[2px] w-fit px-4 py-1 bg-gray-500 rounded text-white cursor-pointer",onClick:()=>y(!1),children:"Cancle"})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"flex items-center gap-[2px] w-fit px-4 py-1 bg-red-400 rounded text-white cursor-pointer",onClick:b,children:"Delete"})})]})]})]})}},45982:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(95551).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},52700:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aeo/traffic-log/apiKeys",function(){return s(31906)}])},91589:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(37876),i=s(14232),a=s(75683);let l={success:"bg-green-100 text-green-800 border-green-300",info:"bg-blue-100 text-blue-800 border-blue-300",error:"bg-red-100 text-red-800 border-red-300"},c=e=>{let{type:t,message:s,className:c="",onClose:n,autoCloseDelay:d=1e3}=e;return(0,i.useEffect)(()=>{if(n){let e=setTimeout(()=>{n()},d);return()=>clearTimeout(e)}},[n,d]),(0,r.jsx)("div",{className:"fixed top-4 left-0 right-0 flex justify-center z-[9999] pointer-events-none",children:(0,r.jsxs)("div",{className:"border rounded px-4 py-3 ".concat(l[t]," ").concat(c," \n                pointer-events-auto w-fit flex justify-between items-center \n                shadow-lg animate-slide-down"),role:"alert",children:[(0,r.jsx)("span",{children:s}),n&&(0,r.jsx)("button",{onClick:n,className:"ml-4 hover:opacity-70 transition-opacity","aria-label":"Close",children:(0,r.jsx)(a.WQq,{size:20})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,4938,636,6593,8792],()=>t(52700)),_N_E=e.O()}]);