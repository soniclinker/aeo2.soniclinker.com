(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2305],{53435:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var l=t(37876),i=t(14232),a=t(68869),n=t(49325),r=t(94499),d=t(65748),o=t(7623),c=t(19926),x=t(23518),m=t(92889),u=t(65259),h=t(43598),v=t(21976),f=t(75683);let j=[{date:"12 May",value:35},{date:"14 May",value:22},{date:"16 May",value:40},{date:"18 May",value:48},{date:"20 May",value:50,highlight:!0,sov:62,prev:23,runId:"002",questions:12},{date:"22 May",value:38},{date:"24 May",value:55}],b=e=>{let{active:s,payload:t,label:i}=e;if(s&&t&&t.length&&t[0].payload.highlight){let e=t[0].payload;return(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow text-xs min-w-[140px]",children:[(0,l.jsx)("div",{className:"font-semibold mb-1",children:"20 May 2025"}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{children:"SOV"}),(0,l.jsxs)("span",{className:"font-bold text-green-600",children:[e.sov,"% ",(0,l.jsx)("span",{className:"text-xs",children:"+12%"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{children:"Prev SOV"}),(0,l.jsxs)("span",{className:"font-bold",children:[e.prev,"%"]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{children:"Run ID:"}),(0,l.jsx)("span",{children:e.runId})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{children:"Questions:"}),(0,l.jsx)("span",{children:e.questions})]}),(0,l.jsx)("a",{href:"#",className:"text-blue-600 underline text-xs",children:"View Questions"})]})}return null},p=e=>{let{cx:s,cy:t}=e,i=e.payload;return i&&i.highlight?(0,l.jsx)("circle",{cx:s,cy:t,r:6,fill:"#6366f1",stroke:"#fff",strokeWidth:2}):(0,l.jsx)("circle",{cx:s,cy:t,r:0})},y=()=>{var e,s,t,y,N,g,w,k,_,S,O,M,V,q,z,A,E,P,B;let[C,L]=(0,i.useState)([]),[D,G]=(0,i.useState)(null),[R,T]=(0,i.useState)(null),[F,I]=(0,i.useState)(!1),[K,Q]=(0,i.useState)(null),[W,U]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{I(!0),Q(null);let e=await h.A.checkAndGetAeoProject();if(!e){Q("Project not found");return}let s="/orgs/".concat(h.A.current().id,"/aeoanalysis/tasks?queryset_id=").concat(e.id),{data:t,error:l}=await u.A.doGet({path:s});if(l){Q("Failed to fetch query sets"),I(!1);return}L(t.tasks||[]),t.tasks&&t.tasks.length>0&&G(t.tasks[0]),I(!1)})()},[]),(0,i.useEffect)(()=>{let e=async()=>{if(!D)return;I(!0),Q(null);let e="/orgs/".concat(h.A.current().id,"/aeoanalysis/tasks/").concat(D.id,"?fetch_result=true"),s=await u.A.doGet({path:e});if(s.error){Q("Failed to fetch analysis data"),I(!1);return}T(s.data.task),I(!1)};D&&e()},[D]);let X="My Brand";for(let t of(null==R?void 0:null===(s=R.result)||void 0===s?void 0:null===(e=s.info)||void 0===e?void 0:e.args)||[])if("brand"===t.id){X=(t.value||"").trim().split(",")[0].trim();break}return(0,l.jsxs)("div",{className:"px-5 py-7 bg-white min-h-screen fontDmSans",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold mb-6 text-[#222]",children:"Share Of Voice"}),(0,l.jsxs)("div",{className:" border-t border-[#E5E7EB] py-5 mb-4",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-base font-semibold text-[#222] mb-1",children:"Visibility Score"}),(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Percentage of responses mentioning your Brand over the selected date range."})]}),(0,l.jsx)("div",{className:"flex items-center gap-2 mt-2 md:mt-0",children:(0,l.jsx)("button",{className:"flex items-center border border-gray-300 rounded px-3 py-2 text-xs bg-white",children:(0,l.jsx)("span",{className:"mr-2",children:"May 28, 2025 â€“ Jun 04, 2025"})})})]}),(0,l.jsx)("div",{className:"w-full h-56 relative",children:(0,l.jsx)(a.u,{width:"100%",height:"100%",children:(0,l.jsxs)(n.b,{data:j,margin:{top:20,right:40,left:0,bottom:0},children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:.35}),(0,l.jsx)("stop",{offset:"60%",stopColor:"#6366f1",stopOpacity:.12}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:0})]})}),(0,l.jsx)(r.d,{vertical:!1,strokeDasharray:"3 3",stroke:"#f3f3f3"}),(0,l.jsx)(d.W,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#888"},dy:8}),(0,l.jsx)(o.h,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#888"},dx:-8,ticks:[0,25,50,75,100]}),(0,l.jsx)(c.m,{content:(0,l.jsx)(b,{}),cursor:{stroke:"#6366f1",strokeWidth:1,opacity:.1}}),(0,l.jsx)(x.G,{type:"monotone",dataKey:"value",stroke:"none",fill:"url(#colorUv)"}),(0,l.jsx)(m.N,{type:"monotone",dataKey:"value",stroke:"#6366f1",strokeWidth:2.5,dot:(0,l.jsx)(p,{}),activeDot:{r:6}})]})})}),(0,l.jsxs)("div",{className:"text-xs font-normal -mx-5 p-5 mt-10 text-gray-600 bg-neutral-200/40 flex justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["Results For Last Run Completed On",(0,l.jsx)("span",{className:"font-bold text-black",children:D?new Date(Number(D.created_at)).toLocaleString():"-"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-2 md:mt-0 relative",children:[(0,l.jsxs)("button",{className:"flex items-center gap-2 rounded-lg shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] outline-1 outline-offset-[-1px] outline-neutral-200 bg-white px-3 py-2 hover:shadow transition-all",onClick:()=>U(e=>!e),children:[(0,l.jsx)(v.Kt4,{color:"text-neutral-950",size:16}),(0,l.jsx)("span",{className:"text-neutral-950 text-xs font-normal",children:D?null===(t=D.data)||void 0===t?void 0:t.queryset_name:"Run"}),(0,l.jsx)(f.q2p,{className:"text-black text-lg -ml-1",size:16})]}),W&&(0,l.jsx)("div",{className:"absolute right-0 top-12 z-10 bg-white border border-gray-200 rounded shadow w-48",children:C.map(e=>{var s;return(0,l.jsx)("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat((null==D?void 0:D.id)===e.id?"bg-gray-100 font-bold":""),onClick:()=>{G(e),U(!1)},children:null===(s=e.data)||void 0===s?void 0:s.queryset_name},e.id)})})]})]})]}),F&&(0,l.jsx)("div",{className:"text-center py-10",children:"Loading..."}),K&&(0,l.jsx)("div",{className:"text-center text-red-500 py-10",children:K}),!F&&!K&&R&&(0,l.jsx)("div",{className:"bg-white mt-5",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-start",children:[(0,l.jsxs)("div",{className:"border-r-[0.8px] border-neutral-200 pr-5",children:[(0,l.jsx)("div",{className:"text-neutral-950 text-base font-semibold mb-9",children:"Share Of Voice"}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-primary rounded-lg py-4 px-3 flex flex-col justify-center min-h-[80px]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"w-1 h-4 bg-indigo-400 rounded-2xl mr-2"}),(0,l.jsx)("span",{className:"textPrimary500 text-xs font-medium",children:"Total Questions Run"})]}),(0,l.jsx)("div",{className:" text-zinc-900 text-base font-semibold",children:null!==(E=null===(g=R.result)||void 0===g?void 0:null===(N=g.all)||void 0===N?void 0:null===(y=N.queries)||void 0===y?void 0:y.length)&&void 0!==E?E:"-"})]}),(0,l.jsxs)("div",{className:"bg-primary rounded-lg p-6 flex flex-col justify-center min-h-[80px]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"w-1 h-4 bg-indigo-400 rounded-2xl mr-2"}),(0,l.jsx)("span",{className:"textPrimary500 text-xs font-medium ",children:"My SOV (Brand Mentions)"})]}),(0,l.jsx)("div",{className:" text-zinc-900 text-base font-semibold",children:(null===(k=R.result)||void 0===k?void 0:null===(w=k.own)||void 0===w?void 0:w.sov)?"".concat(R.result.own.sov,"%"):"-"})]}),(0,l.jsxs)("div",{className:"bg-primary rounded-lg p-6 flex flex-col justify-center min-h-[80px]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"w-1 h-4 bg-indigo-400 rounded-2xl mr-2"}),(0,l.jsx)("span",{className:"textPrimary500 text-xs font-medium ",children:"All Brand Mentions"})]}),(0,l.jsx)("div",{className:" text-zinc-900 text-base font-semibold",children:null!==(P=null===(O=R.result)||void 0===O?void 0:null===(S=O.all)||void 0===S?void 0:null===(_=S.brands)||void 0===_?void 0:_.length)&&void 0!==P?P:"-"})]}),(0,l.jsxs)("div",{className:"bg-primary rounded-lg p-6 flex flex-col justify-center min-h-[80px]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"w-1 h-4 bg-indigo-400 rounded-2xl mr-2"}),(0,l.jsx)("span",{className:"textPrimary500 text-xs font-medium ",children:"Citations"})]}),(0,l.jsx)("div",{className:" text-zinc-900 text-base font-semibold",children:null!==(B=null===(q=R.result)||void 0===q?void 0:null===(V=q.all)||void 0===V?void 0:null===(M=V.urls)||void 0===M?void 0:M.length)&&void 0!==B?B:"-"})]})]})})]}),(0,l.jsxs)("div",{className:"border-r-[0.8px] border-neutral-200 pr-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"text-neutral-950 text-base font-semibold",children:"Brand Visibility Index"}),(0,l.jsx)("button",{className:"text-black text-xs font-normal",children:"View more"})]}),(0,l.jsx)("div",{className:"text-zinc-700 text-xs font-normal mb-2",children:"Top 10 brands ranked by SOV"}),(0,l.jsxs)("table",{className:"w-full text-xs",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-gray-400",children:[(0,l.jsx)("th",{className:"text-left text-slate-500 text-xs font-normal"}),(0,l.jsx)("th",{className:"text-left text-slate-500 text-xs font-normal",children:"Brands"}),(0,l.jsx)("th",{className:"text-left text-slate-500 text-xs font-normal",children:"SOV"}),(0,l.jsx)("th",{className:"text-left text-slate-500 text-xs font-normal",children:"Questions"})]})}),(0,l.jsx)("tbody",{children:(()=>{var e,s;let t=(null===(e=R.result)||void 0===e?void 0:e.others)||[],i=(null===(s=R.result)||void 0===s?void 0:s.own)?{name:R.result.own.name||X,sov:R.result.own.sov,mentions:Array.isArray(R.result.own.queries)?R.result.own.queries.length:R.result.own.mentions||0}:null;return[...t.map(e=>({name:e.name,sov:e.sov,mentions:Array.isArray(e.queries)?e.queries.length:e.mentions||0}))||[],...i?[i]:[]].sort((e,s)=>(s.sov||0)-(e.sov||0)).slice(0,10).map((e,s)=>{var t;return(0,l.jsxs)("tr",{className:"text-[#222] font-medium",children:[(0,l.jsx)("td",{children:s+1}),(0,l.jsxs)("td",{className:"py-1",children:[" ",e.name]}),(0,l.jsx)("td",{className:"py-1 font-bold",children:void 0!==e.sov?"".concat(e.sov.toFixed(2),"%"):"-"}),(0,l.jsx)("td",{className:"py-1",children:null!==(t=e.mentions)&&void 0!==t?t:"-"})]},e.name)})})()})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-neutral-950 text-base font-semibold mb-2",children:"Your Brand Visibility & Trend"}),(0,l.jsx)("div",{className:"text-zinc-700 text-xs font-normal mb-8",children:"Brand's position compared to industry competitors."}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,l.jsx)("span",{className:"text-zinc-700 text-xs font-normal",children:"Overall Visibility Score"}),(0,l.jsx)("span",{className:"flex items-center gap-2",children:(0,l.jsx)("span",{className:"text-black text-base font-semibold",children:(null===(A=R.result)||void 0===A?void 0:null===(z=A.own)||void 0===z?void 0:z.sov)?"".concat(R.result.own.sov,"%"):"-"})})]})]})]})})]})}},70753:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aeo/overview",function(){return t(53435)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[5711,7092,8324,636,6593,8792],()=>s(70753)),_N_E=e.O()}]);